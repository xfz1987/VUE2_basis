<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Vue.set 全局操作</title>
	<link rel="stylesheet" href="../assets/css/index.css">
	<script src="../assets/js/vue.js"></script>
</head>
<body>
	<h1>Vue.set 全局操作</h1>
	<!-- 模拟购物车 -->
	<div id="app">
		<ul>
			<li v-for="g in goods">{{ g.name }} - {{ g.num }}</li>
		</ul>
		<p>总计：{{count}}</p>
		<button @click="clearCar">清空</button>
	</div>

	<button onclick="add()">+</button>
	<h3>注意</h3>
	<h2>不提倡用Vue.set，而是访问构造器，进行数据变化</h2>
	<script>

		var myData = {
			count: 3,
			goods: [
				{name:'car',num:1},
				{name:'pen',num:2}
			]
		};

		//通过外部命令，更改构造器的数据
		function add(){
			//Vue.set(myData, 'count', '4');
			vw.goods.push({name:'house',num:1});
			vw.count++;
		}

		var vw = new Vue({
			el: '#app',
			data: myData,
			methods: {
				clearCar: function(){
					this.count = 0;
					this.goods = [];
				}
			}
		});
	
	</script>
</body>
</html>